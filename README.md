## 更新日志

### v1.12.4.150911
- [新增]触屏版三方登录后注册账号
- [修复]Linux下，在某些特定环境下的触屏模板路径问题
- [修复]后台设置订单发货时库存下降失效的问题
- [修复]后台上传png格式的透明图生成的缩略图背景为黑色的问题
- [修复]编辑广告时未显示之前保存的广告类型信息
- [修复]编辑导入商品时造成的缩略图保存为undefined的问题
- [修复]第三方登录后回调页面提示文字错误
- [优化]购物车结算页面的JS算法；
- [其它]修复其它已知问题

### v1.12.3.150828
- [修复]全站的SQL注入过滤
- [修复]后台首页站点授权信息实时更新
- [修复]前台会员中心订单详情里的支付方式显示问题
- [修复]后台删除会员后删除第三方登录绑定信息
- [修复]触屏版当一个商品有多个分类时不显示的问题
- [修复]会员中心头像不显示的问题
- [优化]QQ审核时需要的昵称显示问题
- [优化]订单详情页没商品图片时的兼容问题
- [优化]后台发货单打印商品价格改为实际支付价格
- [其它]修复其它已知问题

### v1.12.2.150821
- [新增]第三方登录后直接注册并绑定功能
- [修复]后台PHP5.2环境上传图片出错的问题
- [修复]微信公众平台无法和本程序通讯的问题
- [优化]第三方登录后绑定账号
- [优化]订单选择默认支付方式兼容问题
- [优化]触屏版首页兼容问题
- [其它]修复其它已知问题

### v1.12.1.150814
- [新增]后台订单退款操作
- [新增]生成商品缩略图，并调用
- [新增]pc和wap版的注册页面第三方登录按钮
- [修复]后台上传站点LOGO后前台未显示问题
- [修复]前台商品搜索页排序无效果
- [修复]商品详情页 咨询和评论显示问题
- [修复]后台打印快递单时乱码问题
- [修复]商品详情页评论咨询列表显示"Template Error"的兼容问题
- [其它]修复其它已知问题

### v1.12.0.150807
- [新增]第三方登录[QQ、微信、支付宝、新浪微博]
- [新增]会员已完成的订单退货功能
- [新增]实时更新站点账号的金币、短信等信息
- [修复]修复前台模版编译时的路径问题
- [优化]限制注册用户名不能为邮箱号
- [优化]新安装系统时，安装条件检测
- [其它]修复其它已知问题

### v1.11.2.150731
- [新增]wap版所有弹窗提示效果
- [修复]后台运营推广删除某一促销活动时未清空参与该活动的商品
- [修复]后台商品排序无法保存的问题
- [修复]找回密码页面丢失的css
- [修复]帮助中心和品牌页面的title信息
- [修复]pc端无法用手机和邮箱登录的问题
- [修复]文章页面面包屑导航的链接错误
- [修复]手机端收藏商品无效的链接
- [修复]发货单模版中变量未替换的问题
- [优化]发货单模版中增加收货地址
- [优化]前台成功和错误提示页面中的链接点击无效的问题
- [其它]修复其它已知问题


### v1.11.1.150724
- [修复]前台列表页模版错位问题
- [修复]wap版添加收获地址后跳转到错误的页面；
- [修复]自定义菜单中当自定义链接中有"&"时会被转义的问题
- [优化]首页图片延迟加载后自动加载加载后的图片
- [优化]站点设置里部分内容的排序
- [优化]去掉微信公众号配置里不需要的提示
- [其它]修复其它已知问题

### v1.11.0.150717
- [新增]后台短信通知系统
- [新增]后台商品到货通知站内信提醒
- [新增]前台首页延迟加载图片
- [修复]快递100api无法保存的问题
- [修复]商城公告标签无法调用数量的问题
- [修复]系统后台登录页没有title的问题
- [修复]商品到货通知列表里用户信息错误的问题
- [修复]邮件提醒不能发送给单个用户的bug
- [优化]将找回密码和商品到货通知的邮件模版整合到通知模版里
- [优化]后台商品列表排序
- [其它]修复其它已知问题

### v1.10.1.150710
- [新增]后台商品添加/编辑时可新增规格及属性
- [新增]后台商品添加/编辑时规格批量删除功能
- [新增]后台余额支付开关
- [新增]默认模版设为首页和收藏本站功能
- [新增]通知平台邮箱配置页面新增测试邮箱的页面
- [新增]全新云平台账号绑定功能
- [修复]商品分类过多时，添加商品页面分类列表错位
- [修复]未登录状态下商品加入购物车，登录后转到错误页面
- [修复]自定义菜单帐号绑定没有获取到用户openid的问题
- [修复]购买没有规格商品时，发货单无法正常显示商品信息的问题
- [修复]后台权限管理文案错误
- [修复]后台权限设置页面保存设置后顶部菜单消失的问题
- [优化]会员充值选择银行时没有跳转到正确的结算页面
- [优化]更改安装文件锁定后再次安装的提示为中文
- [其它]修复其它已知问题

### v1.10.0.150703
- [新增]前台右侧增加返回顶部按钮
- [新增]后台快递单寄件人相关信息
- [新增]微信自定义菜单
- [修复]充值成功、余额变动的邮件通知推送
- [修复]导航栏分类里的推荐品牌链接无效问题
- [修复]登录注册页面,鼠标指向分类后没弹出相关分类
- [修复]商品类型删除规格关联后，前台样式没有清除的bug
- [修复]商品详情页和商品列表页的seo信息
- [优化]提交订单页面默认选中第一个支付方式
- [优化]优化品牌标签调用功能和wiki文档
- [优化]后台快递单模版 选择 自定义后,去除框内的中文,只留相应的变量名
- [优化]会员中心订单详情页加上订单的规格相关信息
- [优化]后台商品类型添加属性时输入框不能参与筛选
- [优化]优化后台查看订单的显示状态
- [优化]商品类型在商品详情页的调用
- [其它]修复其它已知问题

### v1.9.1.150626
- [新增]前台右侧增加返回顶部按钮
- [修复]游客咨询时游客名称显示不合理
- [修复]商品类型为不参与筛选后前台依然显示筛选的bug
- [修复]删除购物车内商品时左侧复选框还存在的bug
- [修复]商品类型筛选排序无效的问题
- [修复]会员充值用微信扫码支付后页面无跳转的问题
- [修复]当商品没有规格时，购买商品库存不会下降的问题
- [修复]订单促销商品显示问题
- [修复]商品属性添加过多时造成的页面错位
- [修复]触屏版会员中心优惠券没创建时的页面错误
- [优化]删除购物车内所有商品后的显示
- [优化]检测会员是否登录
- [其它]修复其它已知问题

### v1.9.0.150619
- [新增]新增手机端微信支付
- [新增]在微信客户端下单的订单后台标记为微信订单
- [新增]商品详情页显示规格详情
- [修复]订单结算页面实付订单金额
- [修复]百度编辑器对html的过滤
- [修复]商品详情页评论处分页样式间距
- [修复]后台限时促销选择促销时间后弹窗提示没选择
- [优化]邮件和站内信模版
- [优化]过滤在微信客户端不显示支付宝支付
- [优化]首页新发布的商品显示靠前
- [优化]优化分类排序和商品排序功能
- [优化]后台删除分类操作，需要弹出一个提示框，提示是否确认删除,以免误操作
- [其它]修复其它已知问题

### v1.8.0.150612
- [新增]新增微信扫码支付
- [新增]商品购买页下方详情区域的类型调用样式，并去除边框
- [新增]后台所有可编辑页面增加返回按钮
- [修复]前台不显示快递单号
- [修复]修复下单时未选择支付方式也能提交的bug
- [修复]配送方式添加时的BUG:选择支付方式改为复选框
- [修复]手机触屏版会员中心订单列表显示问题
- [修复]限时促销未选择规格的价格显示有问题 
- [修复]后台物流配送方式显示错误
- [修复]短信平台设置的返回按钮地址出错
- [优化]前台发票处选择了发票开票内容后必须填写发票抬头s
- [优化]购物车可以分别选择商品结算
- [优化]商品分类价格分级不填时，前台不会产生价格分级
- [其它]修复其它已知问题

### v1.7.0.150605_beta
- [新增]限时促销功能
- [新增]新增URL请求地址XSS检测
- [修复]触屏版列表页显示数据获取失败的问题
- [修复]解决站点帮助上传图片无法正常显示的问题
- [修复]会员中心我的收藏不能正常显示的问题
- [修复]通知系统站内信功能
- [修复]修复找回密码的邮件通知失效问题
- [优化]后台订单管理确认发货按钮集成了选择物流功能
- [优化]修改static文件夹中图片是中文命名的重置为字母
- [其它]修复其它已知问题

### v1.6.0.150529_beta
- [新增]全新通知系统，包括微信、右键、站内信
- [新增]移动端订单详情页订单已取消的「再次购买」功能
- [修复]后台财务流水管理日志报错的问题
- [修复]商品列表里增加排序功能
- [修复]后台商品列表的快速上下架功能失效的问题
- [修复]移动端会员中心待付款的订单里出现了已取消的订单
- [优化]清理后台冗余菜单节点
- [优化]安装脚本在某些Mysql版本的兼容问题
- [优化]在线升级php5.2版本上的稳定性
- [优化]安装程序时并未正确检测当前的php版本
- [优化]在发货单列表里加入配送日志写入及查看
- [优化]屏蔽会员中心我的订单货到付款的「确认收货」功能
- [其它]修复其它已知问题

### v1.5.0.20150522_beta
- [新增]用户余额充值功能
- [新增]订单余额支付功能
- [新增]后台发货单列表及打印功能
- [新增]会员中心显示已取消的订单
- [新增]已取消订单支持再次购买的功能
- [优化]前台模板文件的空白行
- [优化]后台通用列表控件体验
- [优化]完整安装包自动读取版本号的功能
- [优化]栏目标签新增调用指定分类的功能
- [优化]增加SQL语句在某些环境下的兼容问题
- [修复]快递单模板编辑时背景图丢失的问题
- [其它]修复其它已知问题

### v1.4.0.20150515_beta
- [新增]订单跟踪功能
- [新增]后台订单快递单打印功能
- [新增]后台商品添加&编辑商品图册的批量上传功能
- [新增]后台首页关闭推送消息后24小时不再显示的功能
- [优化]支付方式适用范围功能
- [优化]后台通用列表控件体验
- [优化]移动端设置界面的配置支付方式
- [修复]手机支付在低版本PHP下的兼容问题
- [修复]移动端发票信息字数限制的问题
- [修复]会员取消订单库存未恢复的问题
- [修复]后台发货时未标识发货时间的问题
- [修复]前台购物车商品链接问题
- [修复]前台公告页链接问题
- [其它]修复其它已知问题

### v1.3.1.20150508_beta
- [重要]利于运营的支付宝担保交易接口
- [新增]已完成订单再次购买的功能
- [优化]获取子目录的兼容方式
- [优化]增加全局htmlspecialchars安全过滤
- [优化]优化购物车相关算法及逻辑
- [优化]重构前台配送及支付关联，优化流程
- [优化]微调后台节点菜单分割线的问题
- [修复]后台主题设置提示没有权限的问题
- [修复]个人中心昵称修改存在的注入漏洞
- [修复]触屏版提交订单页选择优惠券无效的问题
- [修复]触屏版提交订单页发票功能判断不严谨的问题
- [修复]指定商品结算下单后会清空购物车的问题
- [修复]备份数据库时提示目录不存在的问题
- [修复]其它已知细节问题

### v1.3.0.20150430_beta
- [新增]全新海盗电商触屏版
- [增强]重构支付模块
- [优化]添加&编辑收货地址页面刷新的问题
- [优化]后台广告位处理流程
- [优化]后台生成优惠券在PHP5.2上的兼容问题
- [优化]后台编辑器图片上传返回顺序错乱导致的排版问题
- [优化]后台站点配置相关的权限提示
- [优化]前台登录折扣价小数点被转为整形导致价格不正确的问题
- [其它]优化其它已知问题

### v1.2.5.20150424_beta
- [核心]增强安全性，增加私钥加密防止关键信息泄露
- [修正]站点帮助显示状态单选的问题
- [修正]前台会员中心优惠券使用状态显示不准确的问题
- [增强]在线支付偶尔通信失败的问题
- [优化]后台添加&编辑商品的体验问题
- [优化]前台购买商品流程，增强用户体验
- [优化]后台物流配送运费显示及计算的问题
- [优化]后台部分界面在IE11某些版本上的兼容问题
- [优化]后台友情链接无法正常显示的问题
- [修正]前台会员注册存在的CSRF安全漏洞
- [修正]前台部分界面分页页码跳转的问题
- [其它]修正及优化其它已知问题

### v1.2.4.150517_beta
- [新增]全新后台富文本编辑器
- [增强]后台添加&编辑商品上传图册的功能
- [修复]后台管理首页订单统计链接无效的问题
- [修复]后台属性类型无法保存筛选状态的问题
- [修复]后台咨询回复无法保存回复状态的问题
- [修复]后台站点帮助提交保存异常的问题
- [修复]前台商品详情页购买咨询功能可能导致的XSS安全漏洞
- [优化]后台部分界面提示信息文案的问题
- [优化]后台站点设置第三方统计代码
- [优化]全站友好信息提示
- [优化]默认安装程序数据库地址修改为IP
- [其它]修正其它已知问题

### v1.2.2.150403_beta
- [增强]后台验证码的刷新机制
- [修复]数据库恢复
- [修复]商城首页LOGO显示
- [修复]商城首页公告及资讯显示
- [修复]会员登录页图片显示
- [优化]幻灯片管理
- [优化]站点帮助
- [优化]友情链接


### v1.2.1.150327_beta
- [新增]商品模型增加输入框
- [增强]登录检测缓存无则生成
- [修复]商品弄列表回收站单条销售功能
- [修复]安装创建数据库权限不足
- [优化]数据库管理
- [优化]地区列表
- [优化]商品分类
- [优化]文章分类
- [优化]导航设置



### v1.2.0 beta
- [增强]后台数据处理,若干BUG;
- [修复]会员列表 订单筛选
- [修复]商品列表 回车快捷搜索
- [优化]商品列表
- [优化]支付平台设置
- [优化]物流配送设置
- [优化]区域划分
- [优化]权限管理
- [优化]后台管理团队
- [优化]管理团队日志

### v1.1.9 beta
- [增强]后台性能,若干BUG;
- [优化]后台品牌列表;
- [优化]后台规格列表;
- [优化]后台商品类型;
- [优化]后台商品到货通知;
- [优化]后台订单列表;
- [优化]后台优惠券管理;
- [优化]后台站点公告;
- [优化]后台广告列表;
- [优化]后台文章列表;

### v1.1.8 beta
- [修复]上一版本后台验证码不显示;
- [优化]后台咨询列表;
- [优化]后台评论列表;
- [优化]后台会员列表;
- [优化]后台会员等级;
- [优化]后台会员地址列表;

### v1.1.7 beta
- 修复整站排序按后台指定顺序bug;
- 修复新注册会员商品价格为0bug;

### v1.1.6 beta
- 更换整站前台模板v1.1
- 新增后台经验调整;
- 增强全站后台代码规范;
- 修复后台管理团队权限设置bug;

### v1.1.5 beta
- 新增图片水印功能;
- 增强全站日期选择;
- 增强注册营销插件;
- 优化数据库结构;
- 修复会员折扣及显示及购物支付相关流程bug;
- 修复前台导航显示排序及分类排序bug;

### v1.1.4 beta
- 修复内容管理文章信息添加编辑时顶级分类显示不正确bug;
- 修复会员中心头像目录不会自动创建bug;
- 修复会员充值列出线下付款方式bug;
- 修复添加广告错误bug;
- 修复商品列表中的回收站中的商品，无法销毁和批量销毁;
- 优化安装流程,安装速度更快enhancement;

### v1.1.3_beta
- 修复后台生成优惠券出错bug;
- 修复后台站点设置单双引号导致系统出错bug;
- 修复后台新版本检测不准确bug;
- 修复多件商品加入购物车计算不准确的bug;
- 修复后台广告添加及读取的编码解码bug
- 修复站点帮助列表页提交是否显示更新bug;
- 修复站点帮助内容不能保存bug;
- 修复订单促销不选排除商品不能保证bug;
- 新增商品CSV基本信息导入;

### v1.1.2_beta
- 修复前台统计代码前端调用bug;
- 修复安装到最后页面的页面编码bug;
- 修复安装时PHP版本检测有时不准确bug;
- 修复后台模板路径大小写不严谨导致Linux识别错误bug;
- 修复规范后台控制器;
- 修复首页幻灯片链接地址及链接说明;
- 新增后台订单管理未发货时可以由管理员无条件修改物流方式;
- 新增后台添加编辑商品批量更新商品库存 销售价 市场价 信息;

## 二次开发
### 目录结构说明
```
├─api/	接口目录
├─data/ 数据目录
├─appliaction/ 应用目录
│  ├─Common/ 公共函数
│  ├─Controller/ 模块目录
│  ├─Framework/	框架目录
│  ├─Hook/	嵌入点目录
│  ├─Library/ 基础类库
│  ├─Model/	模型目录
│  ├─Hook/	嵌入点目录
│  └─Taglib/ 标签目录
├─config/ 配置目录
├─data
│  ├─backup/ 数据库备份
│  ├─caches/ 模板缓存
│  ├─data/	数据数据
│  ├─logs/	日志目录
│  └─temp/ 查询缓存
├─install/ 安装向导
├─plugin/ 插件目录
├─statics/ 资源目录
├─template/ 前台模板目录
└─uploadfile/ 附件目录
```